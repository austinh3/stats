<!DOCTYPE html>  
 <html lang="en">  
  <head>  
    <!-- Derived from: https://firebase.googleblog.com/2017/02/auth-flows-with-firebase-ui-on-web.html -->
   <title>AH3 Stats</title>  
   <meta charset="UTF-8">  
<!-- The core Firebase JS SDK is always required and must be listed first -->
   <script src="/__/firebase/8.8.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
   <script src="/__/firebase/8.8.0/firebase-auth.js"></script>
   <script src="/__/firebase/8.8.0/firebase-storage.js"></script>
<!-- Initialize Firebase -->
   <script src="/__/firebase/init.js"></script> 
 <!-- The code below initializes the sign-in widget from FirebaseUI web. -->  
 <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
 <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />
 <link rel="stylesheet" type="text/css" href="style.css" media=”screen” />

<script type="text/javascript">
  // FirebaseUI config.
  var uiConfig = {
    callbacks: {
      signInSuccessWithAuthResult: function(authResult, redirectUrl) {
        var user = authResult.user;
        var credential = authResult.credential;
        var isNewUser = authResult.additionalUserInfo.isNewUser;
        var providerId = authResult.additionalUserInfo.providerId;
        var operationType = authResult.operationType;
        // Do something with the returned AuthResult.
        // Return type determines whether we continue the redirect
        // automatically or whether we leave that to developer to handle.
        return true;
      },
      signInFailure: function(error) {
        // Some unrecoverable error occurred during sign-in.
        // Return a promise when error handling is completed and FirebaseUI
        // will reset, clearing any UI. This commonly occurs for error code
        // 'firebaseui/anonymous-upgrade-merge-conflict' when merge conflict
        // occurs. Check below for more details on this.
        return handleUIError(error);
      },
      uiShown: function() {
        // The widget is rendered.
        // Hide the loader.
        document.getElementById('loader').style.display = 'none';
      }
    },
    credentialHelper: firebaseui.auth.CredentialHelper.NONE,
    // Query parameter name for mode.
    queryParameterForWidgetMode: 'mode',
    // Query parameter name for sign in success url.
    queryParameterForSignInSuccessUrl: 'signInSuccessUrl',
    // Will use redirect instead of popup for IDP Providers sign-in flow.
    signInFlow: 'redirect',
    signInSuccessUrl: 'loggedIn.html',
    signInOptions: [
      // Leave the lines as is for the providers you want to offer your users.
      firebase.auth.GoogleAuthProvider.PROVIDER_ID,
      {
        provider: 'apple.com',
      },
       //microsoft.com client secret expires 7/18/2023. 
       {
        provider: 'microsoft.com',
        loginHintKey: 'login_hint'
      },
      firebase.auth.TwitterAuthProvider.PROVIDER_ID,

    /* Providers not used-
      firebase.auth.FacebookAuthProvider.PROVIDER_ID,
      firebase.auth.GithubAuthProvider.PROVIDER_ID,
      firebase.auth.EmailAuthProvider.PROVIDER_ID,
      firebase.auth.PhoneAuthProvider.PROVIDER_ID,
      firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID
       */
    ],
    // tosUrl and privacyPolicyUrl accept either url string or a callback
    // function.
    // Terms of service url/callback.
    tosUrl: 'tos.html',
    // Privacy policy url/callback.
    privacyPolicyUrl: function() {
      window.location.assign('privacy-policy.html');
    }
  };

  // Initialize the FirebaseUI Widget using Firebase.
  var ui = new firebaseui.auth.AuthUI(firebase.auth());
  // The start method will wait until the DOM is loaded.
  ui.start('#firebaseui-auth-container', uiConfig);
</script>  
</head>
  <body>  
    <div id="container">  
      <div id="firebaseui-auth-container"></div>  
      <div id="loader">Loading...</div>
    </div>
  </body>  
 </html> 